(function(e,c,a,g){var d="wdForm",f={hideAnimation:"slideUp",hideSpeed:1000,messageAnimation:"slideDown",messageSpeed:1000,messagePosition:"before"};function b(i,h){this.form=i;this.options=e.extend({},f,h);this._name=d;this.init()}b.prototype={init:function(){var h=this;e(h.form).submit(function(){h.submitForm(h);return false})},submitForm:function(i){var h=e(i.form).attr("action");var j=e(i.form).serialize();i.showLoader(i);e.ajax({type:"POST",url:h,data:j,success:function(k){i.hideLoader(i);e(i.form).removeClass("error");if(k.error){e(i.form).addClass("error")}if(k.reset){i.resetForm(i)}if(k.redirect){if(!k.redirect.delay){k.redirect.delay=0}setTimeout(function(){c.location.href=k.redirect.url},k.redirect.delay)}if(k.hide){i.hideForm(i)}if(k.message){i.showMessage(k.message,i)}if(k.alert){i.showAlert(k.alert,i)}},error:function(){i.hideLoader(i);console.log("error")}})},showLoader:function(h){var i=e(h.form).find("button");if(i.size()){i.find("span").animate({opacity:0},200);i.find(".loader").show().animate({opacity:1},200);i.attr("disabled","disabled")}e(h.form).addClass("loading").find(":submit").attr("disabled","disabled")},hideLoader:function(h){var i=e(h.form).find("button");if(i.size()){i.find("span").animate({opacity:1},200);i.find(".loader").show().animate({opacity:0},200);i.removeAttr("disabled")}e(h.form).removeClass("loading").find(":submit").removeAttr("disabled")},resetForm:function(h){e(h.form)[0].reset()},hideForm:function(h){if(h.options.hideAnimation=="slideUp"){e(h.form).slideUp(h.options.hideSpeed)}else{e(h.form).hide()}},showMessage:function(i,h){var j=a.createElement("div");if(h.options.messagePosition=="before"){e(h.form).before(j)}else{e(h.form).after(j)}if(h.options.messageAnimation=="slideDown"){e(j).hide().html(i).slideDown(h.options.messageSpeed)}},showAlert:function(j,h){if(typeof e.wdAlert=="function"){e.wdAlert(j)}else{var i="";if(j.title){i+=j.title}if(j.message){if(j.title){i+="\n"}i+=j.message}if(i.length){alert(i)}}},_resetForm:function(h){h.resetForm(h)}};e.fn[d]=function(h){return this.each(function(){if(!e.data(this,"plugin_"+d)){e.data(this,"plugin_"+d,new b(this,h))}})}})(jQuery,window,document);